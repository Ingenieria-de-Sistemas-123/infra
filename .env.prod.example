# Archivo de ejemplo para entorno PROD (no usar credenciales reales)
# Copiar a .env.prod y reemplazar CHANGEME por valores fuertes y únicos.
# Recomendado: usar GitHub Actions Secrets en lugar de mantener este archivo en la VM.

# IMPORTANTE:
# `docker-compose.prod.yml` referencia estas variables SIN sufijo `_PROD`.
# Si en `.env.prod` usas nombres como `..._PROD`, Compose las dejará vacías y
# servicios/UI quedarán mal configurados (ej: Auth0 termina en `https://authorize/`).

# --- Base de datos Snippet ---
DB_SNIPPET_NAME=snippets
DB_SNIPPET_USERNAME=snippets_prod
DB_SNIPPET_PASSWORD=CHANGEME_STRONG_SNIPPETS

# --- Base de datos Permission ---
DB_PERMISSION_NAME=permission
DB_PERMISSION_USER=permission_prod
DB_PERMISSION_PASSWORD=CHANGEME_STRONG_PERMISSION

# JDBC URLs (valores explícitos)
SPRING_DATASOURCE_URL_SNIPPET=jdbc:postgresql://snippet-db:5432/snippets
SPRING_DATASOURCE_USERNAME_SNIPPET=snippets_prod
SPRING_DATASOURCE_PASSWORD_SNIPPET=CHANGEME_STRONG_SNIPPETS

SPRING_DATASOURCE_URL_PERMISSIONDB=jdbc:postgresql://permission-db:5432/permission
SPRING_DATASOURCE_USERNAME_PERMISSIONDB=permission_prod
SPRING_DATASOURCE_PASSWORD_PERMISSIONDB=CHANGEME_STRONG_PERMISSION

# Auth0 (backend)
SPRING_SECURITY_OAUTH2_RESOURCESERVER_JWT_ISSUER_URI=https://your-tenant.auth0.com/
AUTH0_AUDIENCE=https://snippet-api-prod

# Base URL para language-service (snippet-service la usa para llamadas internas)
LANGUAGE_BASE_URL=http://language-service:8080

# Redis (colas/cache para snippet-service)
REDIS_HOST=redis
REDIS_PORT=6379
SPRING_DATA_REDIS_HOST=redis
SPRING_DATA_REDIS_PORT=6379
SPRING_DATA_REDIS_URL=redis://redis:6379

# Asset service / Azurite
ASSET_SERVICE_BASE_URL=http://asset-service:8080
ASSET_SERVICE_AZURE_HOST=https://your-storage-account.blob.core.windows.net
ASSET_SERVICE_NEW_RELIC_APP_NAME=asset-service-prod
ASSET_SERVICE_NEW_RELIC_AGENT_ENABLED=true

# UI / Auth0 (Vite envs)
# Nota: el frontend típicamente lee `import.meta.env.VITE_*` (sin sufijos).
VITE_AUTH0_DOMAIN=your-tenant.auth0.com
VITE_AUTH0_CLIENT_ID=CHANGEME_AUTH0_CLIENT
VITE_AUTH0_AUDIENCE=https://snippet-api-prod
VITE_AUTH0_CALLBACK_URL=https://snippet-org-prod.duckdns.org/callback
VITE_PERMISSION_BASE_URL=https://snippet-org-prod.duckdns.org/api

# Sugerencias de seguridad:
# - Usar contraseñas >16 chars, alfanuméricas + símbolos.
# - Rotar credenciales cada X meses.
# - No versionar .env.prod real.
